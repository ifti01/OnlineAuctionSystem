@model AuctionSystem.Web.ViewModels.AuctionListingViewModel

<table class="table table-hover">
    <tr>
        <th>
            Title
        </th>
        <th>
            Description
        </th>
        <th>
            ActualAmount
        </th>
        <th>
            StartingTime
        </th>
        <th>
            EndTime
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model.Auctions)
    {
        <tr>
        <td>@item.Title</td>
        <td>@item.Description</td>
        <td>@item.ActualAmount</td>
        <td>@item.StartingTime</td>
        <td>@item.EndTime</td>
                
            @*<td>
                <input type="hidden" value="@item.ID" />
                @Html.DisplayFor(modelItem => item.Title)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Description)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ActualAmount)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.StartingTime)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.EndTime)
            </td>*@
            <td>
                <button data-id="@item.ID" class="editButton  btn btn-primary">Edit</button> |
                <button data-id="@item.ID" class="deleteButton  btn btn-danger">Delete</button>
            </td>
        </tr>
    }

</table>

<script>
    $(".editButton").click(function() {
        $.ajax({
            type: 'GET',
            url: '@Url.Action("Edit", "Auction")',
            data: {
                ID:$(this).attr("data-id")
            }
        }).done(function (response) {

            $("#formModal").modal("toggle");
            $("#contentArea").html(response);
        });
    });

    $(".deleteButton").click(function () {
        
        $("#deleteModal").modal("toggle");
        $("#modalDeleteBtn").attr("data-id", $(this).attr("data-id"));
    });
</script>

